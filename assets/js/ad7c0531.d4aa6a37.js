"use strict";(self.webpackChunkdoris_website=self.webpackChunkdoris_website||[]).push([["536166"],{336917:function(e,t,n){n.r(t),n.d(t,{default:()=>h,frontMatter:()=>l,metadata:()=>i,assets:()=>o,toc:()=>c,contentTitle:()=>a});var i=JSON.parse('{"id":"lakehouse/metastores/hive-metastore","title":"Hive Metastore","description":"\x3c!--","source":"@site/docs/lakehouse/metastores/hive-metastore.md","sourceDirName":"lakehouse/metastores","slug":"/lakehouse/metastores/hive-metastore","permalink":"/docs/dev/lakehouse/metastores/hive-metastore","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Hive Metastore","language":"en"},"sidebar":"docs","previous":{"title":"Analyze Files on S3/HDFS","permalink":"/docs/dev/lakehouse/file-analysis"},"next":{"title":"AWS Glue","permalink":"/docs/dev/lakehouse/metastores/aws-glue"}}'),r=n("785893"),s=n("250065");let l={title:"Hive Metastore",language:"en"},a=void 0,o={},c=[{value:"Parameter Overview",id:"parameter-overview",level:2},{value:"Authentication Parameters",id:"authentication-parameters",level:2},{value:"<code>hive.metastore.authentication.type</code>",id:"hivemetastoreauthenticationtype",level:3},{value:"Enabling Simple Authentication Related Parameters",id:"enabling-simple-authentication-related-parameters",level:3},{value:"Complete Example",id:"complete-example",level:4},{value:"Enabling Kerberos Authentication Related Parameters",id:"enabling-kerberos-authentication-related-parameters",level:3},{value:"<code>hive.metastore.service.principal</code>",id:"hivemetastoreserviceprincipal",level:4},{value:"<code>hive.metastore.client.principal</code>",id:"hivemetastoreclientprincipal",level:4},{value:"<code>hive.metastore.client.keytab</code>",id:"hivemetastoreclientkeytab",level:4},{value:"Complete Example",id:"complete-example-1",level:4}];function d(e){let t={br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["This document is used to introduce the parameters supported when connecting and accessing the Hive Metastore through the ",(0,r.jsx)(t.code,{children:"CREATE CATALOG"})," statement."]}),"\n",(0,r.jsx)(t.h2,{id:"parameter-overview",children:"Parameter Overview"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Property Name"}),(0,r.jsx)(t.th,{children:"Alias"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Default"}),(0,r.jsx)(t.th,{children:"Required"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hive.metastore.uris"})}),(0,r.jsx)(t.td,{}),(0,r.jsxs)(t.td,{children:["The URI address of the Hive Metastore. Multiple URIs can be specified, separated by commas. The first URI is used by default, and if the first URI is unavailable, others will be tried. For example: ",(0,r.jsx)(t.code,{children:"thrift://172.0.0.1:9083"})," or ",(0,r.jsx)(t.code,{children:"thrift://172.0.0.1:9083,thrift://172.0.0.2:9083"})]}),(0,r.jsx)(t.td,{children:"None"}),(0,r.jsx)(t.td,{children:"Yes"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hive.conf.resources"})}),(0,r.jsx)(t.td,{}),(0,r.jsxs)(t.td,{children:["The location of the hive-site.xml file, used to load the parameters needed to connect to HMS from the hive-site.xml file. If the hive-site.xml file contains complete connection parameter information, only this parameter needs to be filled in. The configuration file must be placed in the FE deployment directory, with the default directory being ",(0,r.jsx)(t.code,{children:"/plugins/hadoop_conf/"})," under the deployment directory (the default path can be changed by modifying ",(0,r.jsx)(t.code,{children:"hadoop_config_dir"})," in fe.conf), and the file location needs to be a relative path, such as hms-1/hive-site.xml. All FE nodes must contain this file."]}),(0,r.jsx)(t.td,{children:"Empty"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hive.metastore.authentication.type"})}),(0,r.jsx)(t.td,{}),(0,r.jsxs)(t.td,{children:["The authentication method for the Hive Metastore. Supports ",(0,r.jsx)(t.code,{children:"simple"})," and ",(0,r.jsx)(t.code,{children:"kerberos"}),". In versions 2.1 and earlier, the authentication method is determined by the ",(0,r.jsx)(t.code,{children:"hadoop.security.authentication"})," property. Starting from version 3.0, the authentication method for the Hive Metastore can be specified separately."]}),(0,r.jsx)(t.td,{children:"simple"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hive.metastore.service.principal"})}),(0,r.jsx)(t.td,{}),(0,r.jsx)(t.td,{children:"When the authentication method is kerberos, used to specify the principal of the Hive Metastore server."}),(0,r.jsx)(t.td,{children:"Empty"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hive.metastore.client.principal"})}),(0,r.jsx)(t.td,{}),(0,r.jsxs)(t.td,{children:["When the authentication method is kerberos, used to specify the principal of the Hive Metastore client. In versions 2.1 and earlier, this parameter is determined by the ",(0,r.jsx)(t.code,{children:"hadoop.kerberos.principal"})," property."]}),(0,r.jsx)(t.td,{children:"Empty"}),(0,r.jsx)(t.td,{children:"No"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"hive.metastore.client.keytab"})}),(0,r.jsx)(t.td,{}),(0,r.jsx)(t.td,{children:"When the authentication method is kerberos, used to specify the keytab of the Hive Metastore client. The keytab file must be placed in the same directory on all FE nodes."}),(0,r.jsx)(t.td,{children:"Empty"}),(0,r.jsx)(t.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"authentication-parameters",children:"Authentication Parameters"}),"\n",(0,r.jsx)(t.p,{children:"In Hive Metastore, there are two authentication methods: simple and kerberos."}),"\n",(0,r.jsx)(t.h3,{id:"hivemetastoreauthenticationtype",children:(0,r.jsx)(t.code,{children:"hive.metastore.authentication.type"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Description",(0,r.jsx)(t.br,{}),"\nSpecifies the authentication method for the Hive Metastore."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Optional Values"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"simple"})," (default): No authentication is used."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"kerberos"}),": Enable Kerberos authentication"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Version Differences"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Versions 2.1 and earlier: Relies on the global parameter ",(0,r.jsx)(t.code,{children:"hadoop.security.authentication"})]}),"\n",(0,r.jsx)(t.li,{children:"Version 3.1+: Can be configured independently"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"enabling-simple-authentication-related-parameters",children:"Enabling Simple Authentication Related Parameters"}),"\n",(0,r.jsxs)(t.p,{children:["Simply specify ",(0,r.jsx)(t.code,{children:"hive.metastore.authentication.type = simple"}),". ",(0,r.jsx)(t.strong,{children:"Not recommended for production environments"})]}),"\n",(0,r.jsx)(t.h4,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-plaintext",children:'"hive.metastore.authentication.type" = "simple"\n'})}),"\n",(0,r.jsx)(t.h3,{id:"enabling-kerberos-authentication-related-parameters",children:"Enabling Kerberos Authentication Related Parameters"}),"\n",(0,r.jsx)(t.h4,{id:"hivemetastoreserviceprincipal",children:(0,r.jsx)(t.code,{children:"hive.metastore.service.principal"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Description",(0,r.jsx)(t.br,{}),"\nThe Kerberos principal of the Hive Metastore service, used for Doris to verify the identity of the Metastore."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Placeholder Support",(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.code,{children:"_HOST"})," will automatically be replaced with the actual hostname of the connected Metastore (suitable for multi-node Metastore clusters)."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-plaintext",children:"hive/hive-metastore01.example.com@EXAMPLE.COM\nhive/_HOST@EXAMPLE.COM  # Dynamically resolve the actual hostname\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"hivemetastoreclientprincipal",children:(0,r.jsx)(t.code,{children:"hive.metastore.client.principal"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Description\nThe Kerberos principal used when connecting to the Hive Metastore service. For example: ",(0,r.jsx)(t.code,{children:"doris/fe@EXAMPLE.COM"})," or ",(0,r.jsx)(t.code,{children:"doris/_HOST@EXAMPLE.COM"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Placeholder Support",(0,r.jsx)(t.br,{}),"\n",(0,r.jsx)(t.code,{children:"_HOST"})," will automatically be replaced with the actual hostname of the connected Metastore (suitable for multi-node Metastore clusters)."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-plaintext",children:"doris/fe@EXAMPLE.COM\ndoris/_HOST@EXAMPLE.COM  # Dynamically resolve the actual hostname\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"hivemetastoreclientkeytab",children:(0,r.jsx)(t.code,{children:"hive.metastore.client.keytab"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Description\nThe path to the keytab file containing the key for the specified principal. The operating system user running all FEs must have permission to read this file."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-plaintext",children:'"hive.metastore.client.keytab" = "conf/doris.keytab"\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h4,{id:"complete-example-1",children:"Complete Example"}),"\n",(0,r.jsx)(t.p,{children:"Enable Kerberos authentication"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-plaintext",children:'"hive.metastore.authentication.type" = "kerberos",\n"hive.metastore.service.principal" = "hive/_HOST@EXAMPLE.COM",\n"hive.metastore.client.principal" = "doris/_HOST@EXAMPLE.COM",\n"hive.metastore.client.keytab" = "etc/doris/conf/doris.keytab"\n'})})]})}function h(e={}){let{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},250065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return l}});var i=n(667294);let r={},s=i.createContext(r);function l(e){let t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);